import{a as v,b as I,d as b}from"./config-21c5fa33.js";import{d as w,o as h,y as m,b as a,_ as x,r as c,A as D,c as V,a as k,w as e,e as n,t as o,x as C}from"./index-6ab0eec4.js";var p=w({name:"Delete"});const L={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},B=a("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1);function P(t,l,u,g,s,d){return h(),m("svg",L,[B])}p.render=P;p.__file="packages/components/Delete.vue";const W=p,y={data(){return{listLoading:!1,list:[],ElIconDelete:W}},created(){this.fetchData()},methods:{fetchData(){this.listLoading=!0,v().then(t=>{this.list=t.data,this.listLoading=!1})},addWhiteIp(){this.$prompt(this.$t("请输入")+"IP",this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),inputPattern:/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d))|\*)((\/([012]\d|3[012]|\d))?)(,((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d))|\*)((\/([012]\d|3[012]|\d))?))*$/,inputErrorMessage:"IP"+this.$t("格式不正确")}).then(({value:t})=>{I({IP:t}).then(l=>{this.$message(this.$t("添加成功"))})})},deleteWhiteIp(t){this.listLoading=!0,b(t).then(l=>{this.$message(this.$t("删除成功")),this.listLoading=!1,this.fetchData()})}}},z={class:"app-container"},E={style:{"padding-bottom":"10px"}};function H(t,l,u,g,s,d){const _=c("el-button"),r=c("el-table-column"),f=c("el-table"),$=D("loading");return h(),V("div",z,[k("div",E,[a(_,{type:"primary",onClick:d.addWhiteIp},{default:e(()=>[n(o(t.$t("添加"))+" IP",1)]),_:1},8,["onClick"])]),C((h(),m(f,{data:s.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""},{default:e(()=>[a(r,{align:"center",label:"ID",width:"95"},{default:e(i=>[n(o(i.$index+1),1)]),_:1}),a(r,{label:"IP",align:"center"},{default:e(i=>[n(o(i.row.IP),1)]),_:1}),a(r,{align:"center",label:t.$t("操作"),width:"270"},{default:e(({row:i})=>[a(_,{type:"danger",size:"small",icon:s.ElIconDelete,onClick:M=>d.deleteWhiteIp(i)},{default:e(()=>[n(o(t.$t("删除")),1)]),_:2},1032,["icon","onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[$,s.listLoading]])])}const A=x(y,[["render",H]]);export{A as default};
