import{s as V}from"./app-829c56b8.js";import{_ as k,r as d,o as _,c as h,b as l,w as m,e as s,t as u,a as i}from"./index-6227ac09.js";const U={name:"FlowLine",data(){return{form:{sourceUrl:"https://github.com/xiaojun207/docker-manager.git",branch:"master",port:80,dockerfile:"./Dockerfile",webHook:"",imageUrl:""}}},methods:{onSubmit(){console.log("flowline:",this.form),V(this.form).then(e=>{console.log("saveApp:",e),this.$message(e.msg)})}}},g={class:"app-container"},w=i("div",null,"打包命令： docker build -t ${Image} -f ./Dockerfile .",-1),v=i("br",null,null,-1),y=s(" webhook配置参数：http://dockermanager.my, application/json, secret "),D=s(" 镜像仓库授权方式 ");function H(e,r,C,L,o,p){const a=d("el-input"),n=d("el-form-item"),f=d("el-radio"),b=d("el-button"),c=d("el-form");return _(),h("div",g,[l(c,{ref:"form",model:o.form,"label-width":"120px"},{default:m(()=>[l(n,{label:e.$t("代码URL")},{default:m(()=>[l(a,{modelValue:o.form.sourceUrl,"onUpdate:modelValue":r[0]||(r[0]=t=>o.form.sourceUrl=t),placeholder:e.$t("请输入代码git URL")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{label:e.$t("分支")},{default:m(()=>[l(a,{modelValue:o.form.branch,"onUpdate:modelValue":r[1]||(r[1]=t=>o.form.branch=t),placeholder:e.$t("请输入分支")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{label:e.$t("端口")},{default:m(()=>[l(a,{modelValue:o.form.port,"onUpdate:modelValue":r[2]||(r[2]=t=>o.form.port=t),placeholder:e.$t("请输入端口")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{label:e.$t("Dockerfile位置")},{default:m(()=>[l(a,{modelValue:o.form.dockerfile,"onUpdate:modelValue":r[3]||(r[3]=t=>o.form.dockerfile=t),placeholder:e.$t("请输入Dockerfile位置")},null,8,["modelValue","placeholder"]),w]),_:1},8,["label"]),l(n,{label:e.$t("触发方式")},{default:m(()=>[l(f,{modelValue:o.form.webHook,"onUpdate:modelValue":r[4]||(r[4]=t=>o.form.webHook=t),label:"2"},{default:m(()=>[s(u(e.$t("立即执行")),1)]),_:1},8,["modelValue"]),v,l(f,{modelValue:o.form.webHook,"onUpdate:modelValue":r[5]||(r[5]=t=>o.form.webHook=t),label:"1"},{default:m(()=>[s(u(e.$t("推送到master时触发流水线")),1)]),_:1},8,["modelValue"]),y]),_:1},8,["label"]),l(n,{label:e.$t("镜像仓库地址")},{default:m(()=>[l(a,{modelValue:o.form.imageUrl,"onUpdate:modelValue":r[6]||(r[6]=t=>o.form.imageUrl=t),placeholder:e.$t("请输入镜像仓库地址URL")},null,8,["modelValue","placeholder"]),D]),_:1},8,["label"]),l(n,null,{default:m(()=>[l(b,{type:"primary",style:{width:"200px"},onClick:p.onSubmit},{default:m(()=>[s(u(e.$t("保存")),1)]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])])}const N=k(U,[["render",H]]);export{N as default};
