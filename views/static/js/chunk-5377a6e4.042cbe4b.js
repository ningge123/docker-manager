(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5377a6e4"],{1148:function(t,e,n){"use strict";var r=n("a691"),i=n("1d80");t.exports="".repeat||function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},"408a":function(t,e,n){var r=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},b1cf:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"g",(function(){return s}));n("b680");function r(t){if(!t||0===t.length)return"";var e="";for(var n in t){var r=t[n],i=(r.IP?r.IP:"")+(r.PublicPort?":"+r.PublicPort:"");e+=", "+(i?i+"->":"")+r.PrivatePort+"/"+r.Type}return e.substr(1,e.length)}function i(t){return t[0].substr(1,t[0].length-1)}function o(t){if(!t||0===t.length)return"";var e=[];for(var n in t){var r=t[n];e.push(r.Source+" : "+r.Destination)}return e}function u(t){if(!t)return"";var e="";return e=t<1024?t+"B":t<1048576?(t/1024).toFixed(3)+"KB":t<1073741824?(t/1048576).toFixed(3)+"MB":(t/1073741824).toFixed(3)+"GB",e}function a(t){return t&&t.usage?u(t.usage)+" / "+u(t.limit):""}function l(t){return t&&t.usage?(100*t.usage/t.limit).toFixed(2)+"%":""}function c(t,e){if(!t||!t.cpu_usage||!e||!e.cpu_usage||!t.system_cpu_usage||!e.system_cpu_usage)return"0%";var n=t.cpu_usage.total_usage-e.cpu_usage.total_usage,r=t.system_cpu_usage-e.system_cpu_usage,i=t.online_cpus,o=n/r*i*100;return o.toFixed(2)+"%"}function s(t){if(!t||!t.eth0)return"";var e=t.eth0;return u(e.rx_bytes)+" / "+u(e.tx_bytes)}},b562:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return a}));var r=n("b775");function i(){return Object(r["a"])({url:"/mgr/app/group",method:"get"})}function o(){return Object(r["a"])({url:"/mgr/app/list",method:"get"})}function u(t){return Object(r["a"])({url:"/mgr/app/del",method:"post",data:t})}function a(t){return Object(r["a"])({url:"/mgr/app/update",method:"post",data:t})}},b680:function(t,e,n){"use strict";var r=n("23e7"),i=n("a691"),o=n("408a"),u=n("1148"),a=n("d039"),l=1..toFixed,c=Math.floor,s=function(t,e,n){return 0===e?n:e%2===1?s(t,e-1,n*t):s(t*t,e/2,n)},f=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},d=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){l.call({})}));r({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,n,r,a,l=o(this),d=i(t),g=[0,0,0,0,0,0],p="",b="0",h=function(t,e){var n=-1,r=e;while(++n<6)r+=t*g[n],g[n]=r%1e7,r=c(r/1e7)},m=function(t){var e=6,n=0;while(--e>=0)n+=g[e],g[e]=c(n/t),n=n%t*1e7},_=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==g[t]){var n=String(g[t]);e=""===e?n:e+u.call("0",7-n.length)+n}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(p="-",l=-l),l>1e-21)if(e=f(l*s(2,69,1))-69,n=e<0?l*s(2,-e,1):l/s(2,e,1),n*=4503599627370496,e=52-e,e>0){h(0,n),r=d;while(r>=7)h(1e7,0),r-=7;h(s(10,r,1),0),r=e-1;while(r>=23)m(1<<23),r-=23;m(1<<r),h(1,1),m(2),b=_()}else h(0,n),h(1<<-e,0),b=_()+u.call("0",d);return d>0?(a=b.length,b=p+(a<=d?"0."+u.call("0",d-a)+b:b.slice(0,a-d)+"."+b.slice(a-d))):b=p+b,b}})},f82c:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}])}),n("el-table-column",{attrs:{label:"AppName",width:"270"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.openDetail(e.row)}}},[t._v(t._s(e.row.Name))])]}}])}),n("el-table-column",{attrs:{label:"Image",width:"270"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.Image)+" ")]}}])}),n("el-table-column",{attrs:{label:"MaxMemory",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatSize(e.row.Memory))+" ")]}}])}),n("el-table-column",{attrs:{label:"Ports",width:"270"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.Ports,(function(e){return n("div",{key:e.key},[t._v(t._s(t.PortToStr(e)))])}))}}])}),n("el-table-column",{attrs:{label:"Volumes"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.Volumes,(function(e){return n("div",{key:e.key},[t._v(t._s(e))])}))}}])}),n("el-table-column",{attrs:{label:"Env",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.scope,(function(e){return n("div",{key:e.key},[t._v(t._s(e))])}))}}])}),n("el-table-column",{attrs:{label:t.$t("操作"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{loading:t.listLoading,size:"small",type:"text"},on:{click:function(n){return t.delApp(e.row)}}},[t._v(t._s(t.$t("删除")))]),n("el-button",{attrs:{loading:t.listLoading,size:"small",type:"text"},on:{click:function(n){return t.updateApp(e.row)}}},[t._v(t._s(t.$t("更新")))])]}}])})],1),n("el-dialog",{attrs:{visible:t.dialogDetailVisible,title:"详情"},on:{"update:visible":function(e){t.dialogDetailVisible=e}}},[n("pre",[t._v(t._s(JSON.stringify(t.selectRow,null,2))+"\n      ")])])],1)},i=[],o=n("b562"),u=n("b1cf"),a={data:function(){return{list:null,selectRow:{},dialogDetailVisible:!1,listLoading:!0}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(o["c"])().then((function(e){t.list=e.data,t.listLoading=!1}))},delApp:function(t){var e=this,n={Name:t.Name};this.listLoading=!0,Object(o["a"])(n).then((function(t){e.$message(t.msg),e.listLoading=!1}))},updateApp:function(t){var e=this,n={Name:t.Name};this.listLoading=!0,Object(o["d"])(n).then((function(t){e.$message(t.msg),e.listLoading=!1}))},openDetail:function(t){this.selectRow=t,this.dialogDetailVisible=!0},PortsToStr:function(t){return Object(u["c"])(t)},PortToStr:function(t){var e=(t.IP?t.IP:"")+(t.PublicPort?":"+t.PublicPort:"");return(e?e+" -> ":"")+t.PrivatePort+"/"+t.Type},FormatVolumes:function(t){return Object(u["b"])(t)},formatSize:function(t){return Object(u["h"])(t)}}},l=a,c=n("2877"),s=Object(c["a"])(l,r,i,!1,null,null,null);e["default"]=s.exports}}]);