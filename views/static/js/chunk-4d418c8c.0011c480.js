(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d418c8c"],{b199:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("b775");function r(){return Object(a["a"])({url:"/mgr/tasks",method:"get"})}},c430b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}])}),n("el-table-column",{attrs:{label:"命令"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.ch)+" ")]}}])}),n("el-table-column",{attrs:{label:"serverName",width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.serverName))])]}}])}),n("el-table-column",{attrs:{label:"TaskId",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.taskId)+" ")]}}])}),n("el-table-column",{attrs:{label:"参数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.param)+" ")]}}])}),n("el-table-column",{attrs:{label:"信息",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.msg)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",prop:"created_at",label:"发布时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("i",{staticClass:"el-icon-time"}),n("span",[t._v(t._s(t.formatTime(e.row.ts)))])]}}])}),n("el-table-column",{attrs:{label:"状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["000000"===e.row.code?n("span",{staticStyle:{color:"#4573fa"}},[t._v("正在进行")]):t._e(),"100100"===e.row.code?n("span",{staticStyle:{color:"#d70404"}},[t._v("失败")]):t._e(),"100200"===e.row.code?n("span",{staticStyle:{color:"#03c961"}},[t._v("成功")]):t._e()]}}])})],1)],1)},r=[],l=n("b199"),s=n("ed08"),o={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{list:null,listLoading:!0}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(l["a"])().then((function(e){t.list=e.data,t.listLoading=!1}))},formatTime:function(t){return Object(s["b"])(t)}}},i=o,c=n("2877"),u=Object(c["a"])(i,a,r,!1,null,null,null);e["default"]=u.exports},ed08:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return s}));var a=n("53ca");n("ac1f"),n("5319"),n("4d63"),n("25f0"),n("d3b7"),n("4d90"),n("a15b"),n("d81d"),n("b64b"),n("1276"),n("159b");function r(t,e){if(0===arguments.length||!t)return null;var n,r=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(a["a"])(t)?n=t:("string"===typeof t&&(t=/^[0-9]+$/.test(t)?parseInt(t):t.replace(new RegExp(/-/gm),"/")),"number"===typeof t&&10===t.toString().length&&(t*=1e3),n=new Date(t));var l={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},s=r.replace(/{([ymdhisa])+}/g,(function(t,e){var n=l[e];return"a"===e?["日","一","二","三","四","五","六"][n]:n.toString().padStart(2,"0")}));return s}function l(t,e){t=10===(""+t).length?1e3*parseInt(t):+t;var n=new Date(t),a=Date.now(),l=(a-n)/1e3;return l<30?"刚刚":l<3600?Math.ceil(l/60)+"分钟前":l<86400?Math.ceil(l/3600)+"小时前":l<172800?"1天前":e?r(t,e):n.getMonth()+1+"月"+n.getDate()+"日"+n.getHours()+"时"+n.getMinutes()+"分"}function s(t){if(!t)return"";t=t>0xee09da7916?t:1e3*t;var e=new Date(t),n=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",r=e.getDate()<10?"0"+e.getDate():e.getDate(),l=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",s=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",o=(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())+".",i="";return i=e.getMilliseconds()<10?"00"+e.getMilliseconds():e.getMilliseconds()<100?"0"+e.getMilliseconds():e.getMilliseconds(),n+a+r+" "+l+s+o+i}}}]);