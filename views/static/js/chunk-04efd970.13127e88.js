(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04efd970"],{b199:function(t,e,a){"use strict";a.d(e,"b",(function(){return l})),a.d(e,"a",(function(){return i}));var n=a("b775");function l(t){return Object(n["a"])({url:"/mgr/tasks",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/mgr/task/del",method:"post",data:t})}},c430b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.Id)+" ")]}}])}),a("el-table-column",{attrs:{label:t.$t("命令"),width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.Ch)+" ")]}}])}),a("el-table-column",{attrs:{label:"serverName",width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.ServerName))])]}}])}),a("el-table-column",{attrs:{label:"TaskId",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.TaskId)+" ")]}}])}),a("el-table-column",{attrs:{label:t.$t("信息"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.Msg)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:t.$t("发布时间"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),a("span",[t._v(" "+t._s(t.formatDate(e.row.Ts)))])]}}])}),a("el-table-column",{attrs:{label:t.$t("状态"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["000000"===e.row.Code?a("span",{staticStyle:{color:"#4573fa"}},[t._v(t._s(t.$t("正在进行")))]):t._e(),"100100"===e.row.Code?a("span",{staticStyle:{color:"#d70404"}},[t._v(t._s(t.$t("失败")))]):t._e(),"100200"===e.row.Code?a("span",{staticStyle:{color:"#03c961"}},[t._v(t._s(t.$t("成功")))]):t._e()]}}])}),a("el-table-column",{attrs:{label:t.$t("操作"),align:"center",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{loading:t.listLoading,size:"small",type:"text"},on:{click:function(a){return t.del(e.row)}}},[t._v(t._s(t.$t("删除")))])]}}])})],1),a("el-pagination",{staticStyle:{width:"500px",margin:"0 auto","margin-top":"10px"},attrs:{"hide-on-single-page":!0,"current-page":t.page.currentPage,"page-sizes":[10,30,50,100,200,300,400],"page-size":t.page.pageSize,layout:"prev, pager, next, jumper, sizes, total",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},l=[],i=a("b199"),r=a("ed08"),s={data:function(){return{list:[],page:{currentPage:1,pageSize:10,total:0},listLoading:!0}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,this.listQuery={},this.listQuery.currentPage=this.page.currentPage,this.listQuery.pageSize=this.page.pageSize,Object(i["b"])(this.listQuery).then((function(e){t.list=e.data.list,t.page=e.data.page,t.listLoading=!1}))},handleSizeChange:function(t){this.page.pageSize=t,this.fetchData()},handleCurrentChange:function(t){this.page.currentPage=t,this.fetchData()},formatDate:function(t){return Object(r["c"])(t)},del:function(t){var e=this;this.listLoading=!0,Object(i["a"])({id:t.Id}).then((function(t){e.listLoading=!1,e.$message(e.$t("成功")),e.fetchData()}))}}},o=s,c=a("2877"),u=Object(c["a"])(o,n,l,!1,null,null,null);e["default"]=u.exports}}]);