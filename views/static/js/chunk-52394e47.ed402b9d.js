(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52394e47"],{"1a9a":function(t,e,a){"use strict";a("224b")},"224b":function(t,e,a){},"514f":function(t,e,a){"use strict";a("5c28")},"5c28":function(t,e,a){},9406:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("panel-group",{on:{handleSetLineChartData:t.handleSetLineChartData}}),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}}),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"})]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"})]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"})])],1),a("el-row",{attrs:{gutter:8}},[a("el-col",{staticStyle:{"padding-right":"8px","margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},xl:{span:12}}},[a("transaction-table")],1),a("el-col",{staticStyle:{"margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:6},xl:{span:6}}},[a("todo-list")],1),a("el-col",{staticStyle:{"margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:6},xl:{span:6}}})],1)],1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("Server")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 服务器 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.dashboradSize.server,duration:1}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("Container")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 容器 ")]),t._v(" 运行中 "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.dashboradSize.containerRun,duration:1}}),a("el-divider",{attrs:{direction:"vertical"}}),t._v(" 已停止 "),a("count-to",{staticClass:"card-panel-num",staticStyle:{color:"red"},attrs:{"start-val":0,"end-val":t.dashboradSize.container-t.dashboradSize.containerRun,duration:1}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("Task")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 任务 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.dashboradSize.task,duration:1}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("Image")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 镜像 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.dashboradSize.image,duration:10}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("App")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 应用 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.dashboradSize.app,duration:10}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("follow")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 实时日志开启数量 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.dashboradSize.follow,duration:1}})],1)])])],1)},o=[],r=a("ec1b"),l=a.n(r),c=a("b775");function d(){return Object(c["a"])({url:"/mgr/dashboardSize",method:"get"})}var u={components:{CountTo:l.a},data:function(){return{dashboradSize:{server:0,container:1110,containerRun:0,image:0,task:0,app:0,follow:0}}},created:function(){this.fetchData()},mounted:function(){var t=this,e=setInterval((function(){t.fetchData()}),5e3);this.$once("hook:beforeDestroy",(function(){clearInterval(e)}))},methods:{handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)},fetchData:function(){var t=this;this.listLoading=!0,d().then((function(e){t.dashboradSize=e.data,t.listLoading=!1}))}}},p=u,f=(a("514f"),a("2877")),h=Object(f["a"])(p,s,o,!1,null,"58ce25cc",null),m=h.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%","padding-top":"15px","margin-left":"15px"},attrs:{data:t.list}},[a("el-table-column",{attrs:{label:"任务","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("orderNoFilter")(e.row.ch))+" ")]}}])}),a("el-table-column",{attrs:{label:"目标服务器",width:"195",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.serverName)+" ")]}}])}),a("el-table-column",{attrs:{label:"Status",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-tag",{attrs:{type:t._f("statusFilter")(n.code)}},[t._v(" "+t._s(t.statusFilter(n.code))+" ")])]}}])})],1)},g=[],b=(a("fb6a"),a("b199")),C={filters:{statusFilter:function(t){var e={"000000":"正在进行",100200:"完成",100100:"失败"};return e[t]},orderNoFilter:function(t){return t}},data:function(){return{list:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;Object(b["a"])().then((function(e){t.list=e.data.slice(0,8)}))},statusFilter:function(t){var e={"000000":"正在进行",100200:"完成",100100:"失败"};return e[t]}}},w=C,x=Object(f["a"])(w,v,g,!1,null,null,null),y=x.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"todoapp"},[a("header",{staticClass:"header"},[a("input",{staticClass:"new-todo",attrs:{autocomplete:"off",placeholder:"Todo List"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo(e)}}})]),a("section",{directives:[{name:"show",rawName:"v-show",value:t.todos.length,expression:"todos.length"}],staticClass:"main"},[a("input",{staticClass:"toggle-all",attrs:{id:"toggle-all",type:"checkbox"},domProps:{checked:t.allChecked},on:{change:function(e){return t.toggleAll({done:!t.allChecked})}}}),a("label",{attrs:{for:"toggle-all"}}),a("ul",{staticClass:"todo-list"},t._l(t.filteredTodos,(function(e,n){return a("todo",{key:n,attrs:{todo:e},on:{toggleTodo:t.toggleTodo,editTodo:t.editTodo,deleteTodo:t.deleteTodo}})})),1)]),a("footer",{directives:[{name:"show",rawName:"v-show",value:t.todos.length,expression:"todos.length"}],staticClass:"footer"},[a("span",{staticClass:"todo-count"},[a("strong",[t._v(t._s(t.remaining))]),t._v(" "+t._s(t._f("pluralize")(t.remaining,"item"))+" left ")]),a("ul",{staticClass:"filters"},t._l(t.filters,(function(e,n){return a("li",{key:n},[a("a",{class:{selected:t.visibility===n},on:{click:function(e){e.preventDefault(),t.visibility=n}}},[t._v(t._s(t._f("capitalize")(n)))])])})),0)])])},_=[],V=(a("4de4"),a("498a"),a("a434"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"todo",class:{completed:t.todo.done,editing:t.editing}},[a("div",{staticClass:"view"},[a("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:t.todo.done},on:{change:function(e){return t.toggleTodo(t.todo)}}}),a("label",{domProps:{textContent:t._s(t.todo.text)},on:{dblclick:function(e){t.editing=!0}}}),a("button",{staticClass:"destroy",on:{click:function(e){return t.deleteTodo(t.todo)}}})]),a("input",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"},{name:"focus",rawName:"v-focus",value:t.editing,expression:"editing"}],staticClass:"edit",domProps:{value:t.todo.text},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doneEdit(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelEdit(e)}],blur:t.doneEdit}})])}),k=[],D={name:"Todo",directives:{focus:function(t,e,a){var n=e.value,i=a.context;n&&i.$nextTick((function(){t.focus()}))}},props:{todo:{type:Object,default:function(){return{}}}},data:function(){return{editing:!1}},methods:{deleteTodo:function(t){this.$emit("deleteTodo",t)},editTodo:function(t){var e=t.todo,a=t.value;this.$emit("editTodo",{todo:e,value:a})},toggleTodo:function(t){this.$emit("toggleTodo",t)},doneEdit:function(t){var e=t.target.value.trim(),a=this.todo;e?this.editing&&(this.editTodo({todo:a,value:e}),this.editing=!1):this.deleteTodo({todo:a})},cancelEdit:function(t){t.target.value=this.todo.text,this.editing=!1}}},T=D,F=Object(f["a"])(T,V,k,!1,null,null,null),A=F.exports,O="todos",E={all:function(t){return t},active:function(t){return t.filter((function(t){return!t.done}))},completed:function(t){return t.filter((function(t){return t.done}))}},L=[],q={components:{Todo:A},filters:{pluralize:function(t,e){return 1===t?e:e+"s"},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},data:function(){return{visibility:"all",filters:E,todos:L}},computed:{allChecked:function(){return this.todos.every((function(t){return t.done}))},filteredTodos:function(){return E[this.visibility](this.todos)},remaining:function(){return this.todos.filter((function(t){return!t.done})).length}},methods:{setLocalStorage:function(){window.localStorage.setItem(O,JSON.stringify(this.todos))},addTodo:function(t){var e=t.target.value;e.trim()&&(this.todos.push({text:e,done:!1}),this.setLocalStorage()),t.target.value=""},toggleTodo:function(t){t.done=!t.done,this.setLocalStorage()},deleteTodo:function(t){this.todos.splice(this.todos.indexOf(t),1),this.setLocalStorage()},editTodo:function(t){var e=t.todo,a=t.value;e.text=a,this.setLocalStorage()},clearCompleted:function(){this.todos=this.todos.filter((function(t){return!t.done})),this.setLocalStorage()},toggleAll:function(t){var e=this,a=t.done;this.todos.forEach((function(t){t.done=a,e.setLocalStorage()}))}}},N=q,j=(a("1a9a"),Object(f["a"])(N,S,_,!1,null,null,null)),z=j.exports,$={newVisitis:{expectedData:[100,120,161,134,105,160,165],actualData:[120,82,91,154,162,140,145]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},M={name:"DashboardAdmin",components:{PanelGroup:m,TransactionTable:y,TodoList:z},data:function(){return{lineChartData:$.newVisitis}},methods:{handleSetLineChartData:function(t){this.lineChartData=$[t]}}},R=M,P=(a("cee6"),Object(f["a"])(R,n,i,!1,null,"7c4495fa",null));e["default"]=P.exports},a434:function(t,e,a){"use strict";var n=a("23e7"),i=a("23cb"),s=a("a691"),o=a("50c4"),r=a("7b0b"),l=a("65f0"),c=a("8418"),d=a("1dde"),u=a("ae40"),p=d("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,m=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,e){var a,n,d,u,p,f,b=r(this),C=o(b.length),w=i(t,C),x=arguments.length;if(0===x?a=n=0:1===x?(a=0,n=C-w):(a=x-2,n=m(h(s(e),0),C-w)),C+a-n>v)throw TypeError(g);for(d=l(b,n),u=0;u<n;u++)p=w+u,p in b&&c(d,u,b[p]);if(d.length=n,a<n){for(u=w;u<C-n;u++)p=u+n,f=u+a,p in b?b[f]=b[p]:delete b[f];for(u=C;u>C-n+a;u--)delete b[u-1]}else if(a>n)for(u=C-n;u>w;u--)p=u+n-1,f=u+a-1,p in b?b[f]=b[p]:delete b[f];for(u=0;u<a;u++)b[u+w]=arguments[u+2];return b.length=C-n+a,d}})},b199:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n=a("b775");function i(){return Object(n["a"])({url:"/mgr/tasks",method:"get"})}},cee6:function(t,e,a){"use strict";a("d0d1")},d0d1:function(t,e,a){},ec1b:function(t,e,a){!function(e,a){t.exports=a()}(0,(function(){return function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,a){var n=a(4)(a(1),a(5),null,null);t.exports=n.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(3);e.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,a,n){return a*(1-Math.pow(2,-10*t/n))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,n.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,n.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,n.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,n.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=(0,n.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals),t+="";var e=t.split("."),a=e[0],n=e.length>1?this.decimal+e[1]:"",i=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;i.test(a);)a=a.replace(i,"$1"+this.separator+"$2");return this.prefix+a+n+this.suffix}},destroyed:function(){(0,n.cancelAnimationFrame)(this.rAF)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(0),i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=i.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",i.default)},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=0,i="webkit moz ms o".split(" "),s=void 0,o=void 0;if("undefined"==typeof window)e.requestAnimationFrame=s=function(){},e.cancelAnimationFrame=o=function(){};else{e.requestAnimationFrame=s=window.requestAnimationFrame,e.cancelAnimationFrame=o=window.cancelAnimationFrame;for(var r=void 0,l=0;l<i.length&&(!s||!o);l++)r=i[l],e.requestAnimationFrame=s=s||window[r+"RequestAnimationFrame"],e.cancelAnimationFrame=o=o||window[r+"CancelAnimationFrame"]||window[r+"CancelRequestAnimationFrame"];s&&o||(e.requestAnimationFrame=s=function(t){var e=(new Date).getTime(),a=Math.max(0,16-(e-n)),i=window.setTimeout((function(){t(e+a)}),a);return n=e+a,i},e.cancelAnimationFrame=o=function(t){window.clearTimeout(t)})}e.requestAnimationFrame=s,e.cancelAnimationFrame=o},function(t,e){t.exports=function(t,e,a,n){var i,s=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(i=t,s=t.default);var r="function"==typeof s?s.options:s;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),a&&(r._scopeId=a),n){var l=Object.create(r.computed||null);Object.keys(n).forEach((function(t){var e=n[t];l[t]=function(){return e}})),r.computed=l}return{esModule:i,exports:s,options:r}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])}))},fb6a:function(t,e,a){"use strict";var n=a("23e7"),i=a("861d"),s=a("e8b5"),o=a("23cb"),r=a("50c4"),l=a("fc6a"),c=a("8418"),d=a("b622"),u=a("1dde"),p=a("ae40"),f=u("slice"),h=p("slice",{ACCESSORS:!0,0:0,1:2}),m=d("species"),v=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!f||!h},{slice:function(t,e){var a,n,d,u=l(this),p=r(u.length),f=o(t,p),h=o(void 0===e?p:e,p);if(s(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?i(a)&&(a=a[m],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return v.call(u,f,h);for(n=new(void 0===a?Array:a)(g(h-f,0)),d=0;f<h;f++,d++)f in u&&c(n,d,u[f]);return n.length=d,n}})}}]);